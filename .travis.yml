language: node_js
node_js:
- 12.18.2
env:
  matrix:
  - MONGODB=2.7.8
  global:
  - secure: I1wEJxDXHs9V9UJUBPd/HiQguvaPMfrIk9LbqboATXBGHXX1TK31W0APMIf8gIuI4r60mxf5KDawx6Tadz6o6ezeCtZtW4kccgmS6j13slN8mrFRR0a+nDFf01dvVgBUvSK4iUf21kZZzmZD+p+rmiHmfoWVThsQTVxyD16Xc3XaaPMUPBDjUD891L9pzvijjIyc9nPjD9TMxRKfNlVWjGRGIEKC2Im1r50wT7DKj/NgSFhU4/WVJPi6wI4GiQeF0RM7awlRevkhdVN7JLB1lWpJ4VSK9idq30G+vUnrhQJBZwGeERpJa/BGI2KTMRktrDPuj+vZX5Tzge+kEomfeCwNskCp/r/s4+ISnfCL7pINbsS57EzE3NGk8mpGNskszCzXQo1z4M5P7Fxy6rBMYppyuV5VcDopfrCDacTqkE36KbuGZFlggs939j1DMqQTgZROgvffz6J/bW1X2YzsQI3jLQ/0Wvx0QDuGmGqg1l/eZ35zAu6RMUcp9DyiafhrAxpT/FKbC+TwmzkgEU6GDHe+rR0RxMz++LQSb8z/kxhm44aTgUJyuFygN2Zki5PC8Nnv/6AuN30iuIGQDMqA1Jg/FfVbVv+6UgUhkGDzVwmuolV6WVv52wCAnUrwCReov6/DpHev0Ou41SYfvxeNo+vMm351cRhidXH8NvYJ5Uk=
  - secure: Dx2G1ODlQegKsu5REedzRn0JvH8uSi8ytmVY4bMIx9LcEOm9sDZFz22IHBMr2PaExl6ACYzx2A8hJ34ifmUuXeeGZcakFd2GxprAlVsNIYKzl8JFPPT+GuPIUpLaYCSzbQZaLQxoy4yYU+zVbgtl1isKTgJ49IqgpFpPY7semOgWwWKEP+kXQWZI7VEbDxWo1k8rz5Ln8POYDH/7ZRE9xP1vwdvsxo87Aos2PEBj99nfRxJ56j5a7+qw4HdSDJRP1NI4q2RIDpO8I+V6IT4yxg/eep3/OUVirtOXryC/XfY2HZE4u55aR4U68tqPXW9iPCxmP+I1suSaclUFQApENIVmMajbSJFnd17qk9Vwoct3gL2pRNNyG/qdd3Jri+UWvCdAWXhgFAVWrEMrELnRqk4B9Oqt/DaPwA2dHa5lXo9KQxcu0P8nsTXcWmbJU2kTm/IJcEmo3vYkl8YibC2TWYvwRvNWgOsmO2fUVtT7DFHKGicgKxVhf7qrB6aGTjUvzYH4Z5TpDF3Jgf81aQy7dITtXsXzOSj1s9YzaPELandwksqt/oc5yoQNPAE9pW2d8xIl4b+1bvB1i07KOTR3QENcZzhratLDx1bn6UDH8Y/0lx8rQCn+6Iy4CW3xC4q5VPut+7L3jhYv5b+zzNpIlByVfXdFgqCzED7RGGzs84U=
  - secure: SUF7XoD/KiTVLV5Vwszoppv5+z/hBuab4Hlg485G2KmBH/vRkL0ZiS1TzkHdsBRPyUEAF9QKirLyiKq7s5F86/L46p8GirdYdYQytoL7LAG6Ctq1rFfVoztEeB9LS445EW5eGxRFefAMp8sAR/lOYCGIgqIqM3wnL+qbQaLlKQix2fsBfR8d7UsdTjqiFLLdMQjXEmlhdg/o3AT8q5v2R+0lGTCHnV/sDjgtShW6zhqa+LMT3rI64V0NI5q98h2EB9Ad0T3MgT3SrXzkXFaXwvn5+UJ/PAwpp3t1Abuv98nPq5XlEosrL9XyQ5M8xoViL6W0zMA0fbHfIYlNiZxtvI6FbbW0zB5GuxflnGEk9nL0koxjAT9F2NU/ehNn9lHkiTbT4gHgk6+wc2zNzTUJL+k5pckINT7cBK9H6/r/143ziov5z/9+PWfRQOb8lLTAuxs8MP4Ng36KjlHvdrxWZmYvfaKW39PgJdqJA7ajNnf0/BIl9+PZPrBdfYZSIa+Dj9CQc3/QgvjHhhuo7GpeifD4Dw7olPZmUR0VAZ2syhafPHguowJl8sRTlLA8nZ+50MBMegXM73S0YZYvQJ0JvHrb3Bx6GuYZgzUuaUQiM6s68ONB5nIMfT9JLCQxegtE1E5RknpNXSD9VnpjE+4Wtvd67LWDpvcb/oUSnSgXojc=
  - secure: PYrHXlWNERZRThjRgAF/sAjXXAgwZN5V72u7gwbJURtTFkYqx1u3irRLjOgn/IJcn7BlwuwEftJY4ZQO/SxFgIsz4/vA549CiU07p/HvyzkoQj5LG74SGvRMHx/0zz5ulYl4PwB3M8t96i0/syrB+m9AK3U7ZYb1C/2G2GTgXS2tEe/fNFsLbIEmHJo2cG0RVpWnoj0S3yJfpPihij7pJXyudhvWYkX0MV+rI4g0F2snkONbP9o5ntjVtiFAOSfp+CzSzxZJH+cKEpTkceTUt3gxc7fg0AIQDzcT7kFVsCccwTivPkJ9K6nO6lRnQUClIPQxzXKGTQw7Frxw+GdPvUFdDzC+5K+K+CWDV/5DNqZu/0snZUpE0DSzzlPaGpaKHq6X3fMo2y6ckseGoAyBNuUYEvi0Kdh3QAijAlsuD5YTG2oGpDfafGAEEQzvoPx5Aw/JhwyhMDGfHhSoLjZ3HgPIHp4zKDtpmwpoHz8LEKoyO5aPiP5P9jSlT1laT8PyudH2Ru7lLts0cRf6N7fseGS+2+hZ37c/RQhtCcmp+rmp9xRQoz9W1IY3I8q2JOdVjjeGBsjHUx3vX4+LLxnM8kU+AvfyMI8qN8AjFIacu8yb/tIEwsBWO1x+T2bfrNTa7TwTcHwlFOrKs7g+F4/yY3J3tYM44AcbZxzRpnfUEmg=
  - secure: A/Yv7KLdO3qEOW4UU1J5Ktc61g+MRV5VrRt+61Xbs9/i6yvQBra2ovGUxVIlTjExs4fAA6QIekZ/pPNAYR2Lblo/NAxmLScJACNoXLAVE46RyZPqbGbCnerAugBfsSWW3dJQHM2wg228A0zCqYeIxrcfTaKcYs6tLLAAmeFIZqcMnTfcVqaAzy64qlyXA3tkt1682MNh2KEgeglzSHQc+TypxB4M4Zuuoy6nljAxbeZZcUGH2D4yXqwOp4OeNm1ew5E7SH+IFPkSz5XueKutRmY804xMkcy1lVDkB65h3W9q9IPji+0ZsdwifpHK2x7dgl+3Bipcg4KLBW5abK91EsuEcuqQxZ0g8e+rGQijtb+4nlSQTlEb8ZHnnFYrN5CdJ2kK9r+OypT+KWn+nGqPgWFQ2DmUTsnJG/S+90FLARXzTQ93AZYskGthkzH4q5+IPgPZ3dL+cNdl5L4QnSf6pOXgsivhULqg3G1GrySLwsyC2abUGOiVV/FbWdgRCXaAvJ9z0xyUw29SSRp2ne5uHncejRsfPfz+Zr/HNvvSQhtUIx3FvoMx+ta5m4cdro3Zzv5agS7iWjlclc+S9Exs8YzMn0PnGXuU9YNBbnFs5jprRLGO97FI5JkbF27yijG1DeAlN70GE32ikY3hicciVSLx3ocMAS2F7bFQkINJ9SY=
  - secure: ULTSrJNVehshxN/NETAuTkmQXTvDcOorvt1woBS+ASaCDw2Rb9Hgda++QYBVxHHBDI2p4lLYYlhl6xMCDQu/x9lnzxRg3vWzmrrWJEEYPVmaUzmEx/C4ZevSnMRhBkCVx7c2ZFlQ+xiLAxacEBxKG5BlaMi/qxvmUW5Rr6lrq7QTYtMrmfRcCqoAcnmG8kFt2zkMK/HglEkFNszNPGwNHkmy2+HdigQbsy3001RXq78Jh7LcKPmrIy6rEUMKUCZQEhcrq6sKYzNZ7Pj/UPQSC1Rje6o2JewBqald3fdy4Sbe10CjI53hjuHYlx4F6GAFAx7dXM3m0Zuo8SyM2CKcdPgGJv57cVHBUSWdfwdRdopaBze6p6+tgJA6C0Sb7lus7B/QkysdkbKJrplw/Bqu4eHwPBnSFyFyz41iKlIFBSoqzeO30yZ3sChxEWz7pZ4AmRYkqzkrs14yylD8hNkl7m1kZIte8iRr0HRh0a3phBVRKJLfkR+bQJCgPYNGgf1YiJd8qpktdDcRBQvixBNhHHNfBIv819UHmuzL1okspEHMqkI2ppiCErjgNjtDP6zDP9HlgMWrKnfWcx4AtDmuOLDLBSDGbL9YXQIXT+4qB6rUIkWqgl0NQ5n7frAVXxBmN3JnXoFR3S7aelezgPS5ehQ/sxhMR6+AvthVRu6Adw8=
  - secure: DLnMXG5tSp9quJYLq8YgFtoC04DGq8Vb5FZKCDmtsXJU6k2yqAEqL6dKmm60rEr17hAIFfroValTqEPIlPA/6wiBzb2Yx9e0r3eze/7inzsTJk4iRupFGJWYc5qpwCthf/EjSikkWRRI16FoCfp8/tdHXMUkj61ZyweJNLGd5i7lzoUFKtVIbq95R182/wChABaFnRBBg4LFdLdvIPq3mLZd/3XyO3hN/vUg2j7oQ+ZNl9C6vcHF1h1PP2+svadvhauQg6DMZWF4WgcA9d6jSGt2RxFghj63rQpE2UENvx291Ty0noe72/CGsqzwA8YNckKnyg7448Zl8iAWbnsIk2yW/sES3DIl0H214s/f/f2Oe35TXvU4mV2sEjHk3ZAtRtTHOl9ySggCgbb59Py5/4uVgIkdbUWt0fxLAt4e5EsH5ytx91G7FVIaZHu+XAhQIjEswJjTvLbb94W99pB5Rf/5dZYRGOvDzxWXmUvayi3AiJtQX7DDqC93O+TnoNojYAJA3hzBhjzuSra6BiJyHiL2vbJh3VLKwJs+2i5GmtTkzUOr6ruYvOBIG3UnzS4Vc8EiuZUryTpTbaOEPLxj1/z5qG6CKnylG/LPzQc4TJqv9afWSUWwGSuZMyLeJq06FRk+rtcqrAnd61SV992zNWJ31S2UsSQ9z0nUEVvkQtM=
  - secure: DRjiNsoy/aTh74Uf5o6lvs7synKbdK3kRMa1OuDjkwY5Svc8dplyjoYlzUycC4nZrS3Woh8j6N7t2Byf/ozflezusK2+K6jWvrPCArduHXW4DKpH6zfhXHfcDZhGXpv/IqhHVyTT2fJwGS0Cg0jHYTCsQ6B3yCBz+HvjfuBxyIN0w3uXxKJTpAKZOvKyV3qfzazr8vmRl0wt3jWiQa8scQWIFfw1/MRbHpQ7htDjDs+yo2jOTnZf8gsiGppyQkJGaDhs0Lpc60mwjCpjjs6GXKoyS+yl0jUk+VgJ/rDcsHja2BltuZZzPuFOaXD7d/UcwNCTQ+wEZsIAprjd1e0n/wixcIXyo6zizsyrinb6X+T9gbrcj9Elt2UrH873fXMCd2xOT6f//6ssWhIlFxHOMBIlhZVXXZZm3v6F7In1+1mk8DwCJDqU6YkIcDIsrlP2F8m7mxQ3TAvFqbavYRiF2lejJ/kvlqH6H7JwEQIsbGxJvtOYQh7gOqFI8XbIgDJqPjkLXgBJtJFlVj0JF/MUYiGfO4+VoJ+TBR3iFE6Hg+w+zPbfmMYoOhu2MSnv9hzob+3ukQzrHzgjKgRik070aAHHmcmwr7/NyE+IRH1d8PykmIsExzUsFwmLF4iBQbrMye93oq3ZvPPgTKL0/pp3YWyDmvKuxpoG9NZUBnn4Uco=
install:
- wget http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-${MONGODB}.tgz
- tar xzf mongodb-linux-x86_64-${MONGODB}.tgz
- "${PWD}/mongodb-linux-x86_64-${MONGODB}/bin/mongod --version"
- mongo --version
- yarn run env
- yarn
before_script:
- mkdir ${PWD}/mongodb-linux-x86_64-${MONGODB}/data
- "${PWD}/mongodb-linux-x86_64-${MONGODB}/bin/mongod --dbpath ${PWD}/mongodb-linux-x86_64-${MONGODB}/data
  --logpath ${PWD}/mongodb-linux-x86_64-${MONGODB}/mongodb.log --fork"
- npm run gen-keys
